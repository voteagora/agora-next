generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["multiSchema", "views"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  schemas  = ["center"]
}

/// The underlying view does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
view kent_proposal_stats_test {
  proposal_id                String?
  proposer                   String?
  description                String?
  created_at                 String?
  end_block                  String?
  deadline                   String?
  quorum                     String?
  cancelled_at               BigInt?
  executed_at                BigInt?
  total_votes                BigInt?
  total_voting_power         Decimal? @db.Decimal
  total_voting_power_for     Decimal? @db.Decimal
  total_voting_power_against Decimal? @db.Decimal
  total_voting_power_abstain Decimal? @db.Decimal
  total_votes_for            BigInt?
  total_votes_against        BigInt?
  total_votes_abstain        BigInt?
  total_votes_with_reason    BigInt?
  status                     String?

  @@ignore
  @@schema("center")
}

/// The underlying view does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
view proposals_chronological_desc {
  block_number BigInt?
  proposal_id  String?
  proposer     String?
  start_block  String?
  end_block    String?
  description  String?
  inputs       Json?

  @@ignore
  @@schema("center")
}

/// The underlying view does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
view charlie_delegates_test {
  address            String?
  tokens_owned       Decimal? @db.Decimal
  tokens_represented Decimal? @db.Decimal
  total_voting_power Decimal? @db.Decimal
  delegators         String[]
  delegatees         BigInt?

  @@ignore
  @@schema("center")
}

/// The underlying view does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
view charlie_voting_power_snapshot {
  proposal_id  String?
  address      String?
  voting_power Decimal? @db.Decimal

  @@ignore
  @@schema("center")
}

view ProposalsList {
  block_number  BigInt?
  proposal_id   String  @unique
  proposer      String?
  description   String?
  start_block   String?
  end_block     String?
  proposal_data String?

  @@map("proposals_list")
  @@schema("center")
}

/// The underlying view does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
view charlie_events_all {
  event_type   String?
  block_number BigInt?
  executor     String?
  details      String?
  inputs       Json?

  @@ignore
  @@schema("center")
}

view ProposalsData {
  block_number     BigInt?
  transaction_hash String  @unique @db.VarChar(66)
  proposal_id      String  @unique
  proposer         String?
  start_block      String?
  end_block        String?
  description      String?
  proposal_data    String?

  @@map("proposals_data")
  @@schema("center")
}

view Votes {
  block_number     BigInt?
  transaction_hash String  @unique @db.VarChar(66)
  voter            String?
  proposal_id      String?
  support          String?
  weight           String?
  reason           String?
  params           String?
  proposal_data    String?

  @@map("votes")
  @@schema("center")
}

view ProposalsResults {
  proposal_id      String  @unique
  standard_results Json?
  approval_results Json?
  proposal_data    String?

  @@map("proposals_results")
  @@schema("center")
}

view NumberOfProposals {
  num_of_props BigInt @unique

  @@map("num_of_props")
  @@schema("center")
}

view VoterStats {
  voter              String   @unique
  proposals_voted    BigInt?
  participation_rate Float?
  last_10_props      Decimal? @db.Decimal
  proposals_created  BigInt?
  for                Decimal? @db.Decimal
  abstain            Decimal? @db.Decimal
  against            Decimal? @db.Decimal

  @@map("voter_stats")
  @@schema("center")
}

view Proposers {
  proposer String  @unique
  count    BigInt?

  @@map("proposers")
  @@schema("center")
}

view VotingPower {
  raw_number            BigInt   @unique
  delegate              String?
  voting_power          String?
  relative_voting_power Decimal? @db.Decimal

  @@map("voting_power")
  @@schema("center")
}

view NumberOfDelegators {
  delegate           String @unique // This is not actually unique, but Prisma requires a unique field
  num_for_delegators BigInt?

  @@map("num_of_delegators")
  @@schema("center")
}
